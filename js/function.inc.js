console.log("functions"),getDrivesMainImages=async()=>(dataFromServer.drivesData||(console.log("true"),console.log("retriving drives data..."),await retriveAndProcessDrivesData()),dataFromServer.drivesData&&dataFromServer.drivesData.drivesMainImages.length?dataFromServer.drivesData.drivesMainImages:null),getDrivesData=async()=>(dataFromServer.drivesData||(console.log("retriving drives arr data..."),await retriveAndProcessDrivesData().then(e=>dataFromServer.drivesData?dataFromServer.drivesData:null)),dataFromServer.drivesData?dataFromServer.drivesData:null),getDrives=async()=>(dataFromServer.drivesData||(console.log("retriving drives arr data..."),await retriveAndProcessDrivesData().then(e=>dataFromServer.drivesData&&dataFromServer.drivesData.driveArr.length?dataFromServer.drivesData.driveArrs:null)),dataFromServer.drivesData&&dataFromServer.drivesData.driveArr.length?dataFromServer.drivesData.driveArr:null),getNoOfPeopleServed=async()=>(dataFromServer.drivesData||(console.log("retriving drives data..."),console.log("true 1"),await retriveAndProcessDrivesData()),dataFromServer.drivesData?dataFromServer.drivesData.noOfPeopleServed:0),getTotalMonetryValue=async()=>(dataFromServer.drivesData||(console.log("retriving drives data..."),console.log("true 2"),await retriveAndProcessDrivesData()),dataFromServer.drivesData?dataFromServer.drivesData.totalMonetryValue:0),getNoOfDrives=async()=>(dataFromServer.drivesData||(console.log("retriving drives data..."),await retriveAndProcessDrivesData()),dataFromServer.drivesData?dataFromServer.drivesData.totalDrives:0),retriveAndProcessDrivesData=async()=>{let e=await retriveData("/json/smile/driveDatabase.json");if(e.drives&&e.drives.length){e=e.drives;let a=[],t=0,r=0,i=[];for(let n=0;n<e.length;++n){let l=e[n];l.supportedBy&&""!=l.supportedBy||(l.supportedBy=null),l.occation&&""!=l.occation||(l.occation=null),l.approxMoney&&""!=l.approxMoney?r+=parseFloat(l.approxMoney):l.approxMoney=0,l.imgToShow&&""!=l.imgToShow?a.push({driveId:"id",img:l.imgToShow,locationInArr:n}):l.imgToShow=null,t+=l.smileount,i.push({locationInArr:n,driveData:l})}dataFromServer.drivesData={drivesMainImages:a,noOfPeopleServed:t,totalMonetryValue:r,driveArr:i,totalDrives:i.length}}else console.log("No drive activity found")},retriveData=async(e,a={})=>{console.log("cheking retriving url..");let t=null;return await $.ajax({url:e,success(e,a,r){t=e},error(e){console.log(e)},complete(){}}),t},sendMail=async e=>{event.preventDefault();let a=e.nextElementSibling,t=e.querySelector("[name=email]"),r=t.value,i=e.querySelector("[name=name]").value,n=e.querySelector("[name=Subject]").value,l=e.querySelector("[name=message]").value,s=e.querySelector("[name=submit]");if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(r))return t.nextElementSibling.innerHTML="Please enter a valid Email id.",t.nextElementSibling.style.display="block",!1;console.log("Sending Message...");let o={name:i,email:r,subject:n,message:l},d=new XMLHttpRequest,v=0,g=["",".","..","..."],u;d.onreadystatechange=function(){if(1==d.readyState)console.log("Server Connection Established"),u=setInterval(function(){s.value="Sending Message"+g[v++],v%=4},400);else if(4==d.readyState&&200==d.status){console.log("Mailing Request completed."),clearInterval(u),e.style.display="none",a.firstElementChild.innerHTML="Message Sent",e.reset(),a.lastElementChild.innerHTML="Send another Message",a.firstElementChild.nextElementSibling.innerHTML="Thank you <b>"+i+"</b> for showing your interest in my services. Your Message has been Recieved. I will get Back to You very soon",a.style.display="block",s.value="Send";let t=d.responseText;console.log("p6p "+t)}else 4==d.readyState&&200!=d.status&&(console.log("Mailing Request Failed. Error : "+d.statusText),clearInterval(u),e.style.display="none",a.firstElementChild.innerHTML="Sorry: Sending Failed",a.lastElementChild.innerHTML="Try Again",e.reset(),a.firstElementChild.nextElementSibling.innerHTML="I am very sorry. Your Message has been failed.<span style='color:red;margin:2% 0;display:block'>Error : "+d.statusText+"</span>You can try again after some time.",a.style.display="block",s.value="Send")},d.open("POST","/SendMail.php"),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send("data="+JSON.stringify(o))},showForm=e=>{e.parentElement.previousElementSibling.style.display="flex",e.parentElement.style.display="none"};